<h3>{{sourceConfig.displayName}}</h3>

{{#each sourceProperties as |prop|}}
  <div class="uk-form-row uk-margin-top">
    <div class="uk-grid" style="align-items: center;">
      {{#if canRemoveProperty}}
        <div class="uk-flex-item-none">
          <a {{action 'removeProperty' prop}} title={{t 'action.removeItem' item=(t 'chart.edit.prop.prop')}} class="uk-icon-hover uk-icon-small">
            {{fa-icon 'minus'}}
          </a>
        </div>
      {{/if}}
      <div class="uk-flex-item-none">
        {{color-swatch-input color=prop.color colorContext=prop onChangeColor=(action 'setPropertyColor')}}
      </div>
      <div class="uk-flex-item-1">
        <p>{{prop.displayName}}</p>
      </div>
      <!--
      <div class="uk-flex-item-1">
        {{input value=prop.title class="uk-width-1-1" placeholder=(t 'chart.edit.prop.title')}}
      </div>
      <div class="uk-flex-item-1">
        {{input value=prop.unit class="uk-width-1-1" placeholder=(if prop.property.unit (t 'chart.edit.source.unitWithDefault' default=prop.property.unit) (t 'chart.edit.source.unit'))}}
      </div>
      -->
      <div class="uk-flex-item-none">
        <a {{action 'togglePropertyVisibility' prop}} title={{if prop.isHidden (t 'action.show') (t 'action.hide')}} class="uk-icon-hover uk-icon-small">
          {{fa-icon (if prop.isHidden 'eye-slash' 'eye')}}
        </a>
      </div>
    </div>
  </div>
{{/each}}
{{#if (and (gt availableSourceProperties.length 0) isShowAddPropertyForm)}}
  <div class="uk-panel uk-panel-box uk-panel-box-primary uk-margin-top">
    <div class="uk-grid"  style="align-items: center;">
      <div class="uk-flex-item-1">
        <select onchange={{action 'selectNewProperty' value="target.value"}} autocomplete="off">
          <option></option>
          {{#each availableSourceProperties as |propConfig|}}
            <option value={{propConfig.id}} selected={{if (eq prop.id propConfig.id) 'selected' null}}>{{propConfig.displayName}}</option>
          {{/each}}
        </select>
        <button class="uk-button uk-button-success" disabled={{if canAddNewProperty null true}} {{action 'addNewProperty' propConfig}}>{{t 'action.add'}}</button>
        <p>
          {{t 'chart.edit.props.manageHint'}} {{#link-to 'data-props.source' dataSourceConfig}}{{t 'chart.edit.props.manageHintAction'}}{{/link-to}}
        </p>
      </div>
      <div class="uk-flex-item-none">
        <a {{action 'hideAddNewPropertyForm'}} class="uk-close"></a>
      </div>
    </div>
  </div>
{{/if}}
{{#if (gt availableSourceProperties.length 0)}}
  <div class="uk-flex uk-flex-right uk-margin-top">
    <div class="uk-flex-none">
      <a {{action 'showAddNewPropertyForm'}} title={{t 'action.addItem' item=(t 'chart.edit.prop.prop')}} class="uk-icon-hover uk-icon-small">
        {{fa-icon 'plus'}}
      </a>
    </div>
  </div>
{{/if}}
